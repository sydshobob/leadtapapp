
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Select States â€“ LeadTapApp</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script defer>
    document.addEventListener("DOMContentLoaded", () => {
      const stateSelect = document.getElementById("stateSelect");
      const stateList = document.getElementById("stateList");
      const states = [
        "AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID",
        "IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE",
        "NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT",
        "VA","VI","VT","WA","WI","WV","WY"
      ];

      // Populate dropdown
      states.forEach(code => {
        const opt = document.createElement("option");
        opt.value = code;
        opt.textContent = code;
        stateSelect.appendChild(opt);
      });

      // Restore state list from localStorage
      const stored = JSON.parse(localStorage.getItem("selectedStates") || "[]");
      stored.forEach(code => addStateToList(code));
    });

    function addState() {
      const state = document.getElementById("stateSelect").value;
      const current = JSON.parse(localStorage.getItem("selectedStates") || "[]");
      if (!current.includes(state)) {
        current.push(state);
        localStorage.setItem("selectedStates", JSON.stringify(current));
        addStateToList(state);
      }
    }

    function addStateToList(stateCode) {
      const list = document.getElementById("stateList");
      const li = document.createElement("li");
      li.className = "text-gray-800";
      li.textContent = stateCode;
      list.appendChild(li);
    }

    function goToNextPage() {
      window.location.href = "city_zip_selector.html";
    }
  </script>
</head>
<body class="bg-gray-50 text-gray-800">
  <div class="max-w-xl mx-auto px-6 py-10">
    <h1 class="text-3xl font-bold mb-6">Which states do you serve?</h1>

    <div class="mb-4">
      <label class="block font-semibold mb-1">Select a state</label>
      <div class="flex gap-2">
        <select id="stateSelect" class="flex-1 border border-gray-300 rounded-md px-4 py-2"></select>
        <button onclick="addState()" class="bg-blue-700 text-white px-4 py-2 rounded-md hover:bg-blue-800">Add</button>
      </div>
    </div>

    <div class="mb-6">
      <label class="block font-semibold mb-2">States Selected</label>
      <ul id="stateList" class="list-disc ml-6 text-sm"></ul>
    </div>

    <button onclick="goToNextPage()" class="bg-green-700 text-white font-semibold px-6 py-3 rounded-xl hover:bg-green-800">Next</button>
  </div>
</body>
</html>
